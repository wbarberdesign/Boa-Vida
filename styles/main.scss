// USE VARIABLES FOR GENERAL SETTINGS
@import '_variables.scss';
@import '_reset.scss';
@import '_flex.scss';
@import '_mixins.scss';
@import '_flex.scss';
@import '_grid.scss';
@import '_aspectRatios.scss';
@import '_fontFace.scss';
@import '_text.scss';
@import '_swiper.scss';
@import '_goCart.scss';


// TEMPORARY FOR CLIENT ASPECT RATIO
.product-card, .product-carousel {
    .image-container {
        // SHOW MARA ASPECT RATIO
        background:#eeeeee;
    }
}
html {
    font-size: 62.5%;
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    width: 100vw;
    min-height: 100vh;
}

body {
    max-width: 2200px;
    margin: 0 auto;
}

img {
    width: 100%;
}

.background-color__sand {
    background-color: $themeSand;
}

header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    padding: 3.3rem $siteMargin;
    @include mobileOnly {
        padding: 1rem 2rem;
    }
    z-index: 50;
    text-transform: uppercase;
    @include transition(.5s all);
    .logo-container {
        @include mobileOnly {
            display: flex;
            justify-content: center;
            align-items: center;
        }
    }
    .logo {
        width: 126px;
    }
    a:not(:last-of-type) {
        margin-right: 3rem;
    }
    &.active {
        background-color: white;
    }
    .country-code {
        border: none;
        background: none;
        padding: 0;
        padding-right: 25px;
        margin-right: 25px;
        appearance: none;
        background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAaCAYAAAA0R0VGAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHeSURBVHgB7Za9UsJAFIVPoKHEN0hpKaVd7LSD0srhCcTOTnwCsdLS0g59AsbODkrKLbUidnR67syNXiGTLPmBGcczc8nuTXbzZbP3EOBff1BN+Wm321etVitaLpcv2LGUZY8sc+mcMz41zrBDCZhyLBgHDea65vxIktiBdGGGSZfRDZiUxpQR6gnHOIrj2GFL0gWZmtQT799r8CcWGIWCQk4UehtgIQ9jk3KMvjTktUJXqSdNbBFQwSZYf2vxN5wCzhQwkSz1DeoDkwcfG7AYK9upaQewfB3L+IPN4wSQfdRhMZz3ztxHdKILhFQ4BXzlwIDNSFORAEseFUksg4eBSV0Q7HGTCR6M/0l0UYGMlyUxRBFx4NRMsijrgfKAK2CjrOuDnMkq80B9MKnMxAFmnKeTNaaRdbIqDzReloxzOi8Kwymgw7oHjuGpPC/LUhMeYqW+sWLf8fM/HLIfMv+cN5bXCdi+dgXo0HdbeMEp4GxTD+SqiYnbKj8lmLclecMpoLcHqpddmtQ1we5Rt1I8MFo5X4mXBSggrVbZS4nvyV7qyF5Ss7YFc8v8AAVUCE4BQ6xXYR+/LSPXy2qBE6UAWjmU/GgtBSdKcX6RQwVf0xtVa5pSPFD2n3z+zFFSX2XT6B9pg7Z7AAAAAElFTkSuQmCC');
        background-size: 13px;
        background-position: right;
        background-repeat: no-repeat;
        &:hover {
            cursor: pointer;
        }
    }
}

.responsive-menu {
    position: absolute;
    left: -50vw;
    top: 0;
    width: 50vw;
    height: 100vh;
    padding: 2rem;
    padding-top: 100px;
    @include transition(.5s all);
    &.active {
        @include translateX(50vw)
    }
    a {
        font-size: 1.2rem;
        line-height: 1.4rem;
        margin-bottom: 10px;
    }
}

footer {
    padding: 3.3rem $siteMargin;
    margin-top: 15rem;
    ul.linklist {
        text-transform: uppercase;
        li:not(:last-of-type){
            margin-bottom: 2rem;
        }
    }
    @include mobileOnly {
        padding: 3.3rem 2rem;
    } 
}

main {
    // To get around shopify section wrapper divs
    div.shopify-section {
        section {
            margin-top: 15rem;
        }
    }
    &[data-active-page-template="index"],
    &[data-active-page-template="product"],
    &[data-active-page-template="page.boutiques"] {
        div.shopify-section {
            &:first-of-type {
                section {
                    margin-top: 0;
                }
            }
        }
    }
}

section {
    padding: 0 $siteMargin;
    @include mobileOnly {
        padding: 0 2rem;
    }
}

// --------------------------------------------- *
// #GO CART
// --------------------------------------------- *
.go-cart__trigger {
    font-size: 1.4rem;
}
.go-cart__drawer {
    max-width: 540px;
    right: -540px;
    &.is-open {
        @include translateX(-540px);
    }
}
.go-cart-drawer {
    background-color: $themeSand;
    height: calc(100% - 87px);
    top: 87px;
    padding: 0 6rem;
    div.go-cart-drawer__content {
        border-bottom: 1px solid $themeBlack;
        margin: 4rem 0;
        max-height: 33vh;
        .go-cart-drawer .go-cart-item__single {
            padding: 0;
        }
    }
    .go-cart-drawer__header {
        padding-top: 5rem;
        .go-cart-drawer__close {
            line-height: auto;
        }
        p {
            margin: 0;
        }
    }
    .go-cart-item__image {
        height: 0;
        padding-bottom: 30%;
        width: 156px;
        margin-right: 20px;
    }
    .go-cart-item__remove {
        left: calc(156px + 20px);
        top: unset;
        right: unset;
        bottom: 4rem;
        font-size: 1.4rem;
    }
    .go-cart-item__price {
        bottom: 3rem;
    }
    .go-cart-item__quantity {
        bottom: 15px;
    }
    .go-cart-item__quantity-button {
        font-size: 1.4rem;
        padding: 0;
        margin: 0;
        width: auto;
        height: auto;
    }
    .go-cart-item__info-wrapper {
        padding: 3rem 0;
        border-top: 1px solid $themeBlack;
    }
    .go-cart-item__quantity-number {
        background: none;
        font-size: 1.4rem;
    }
    .go-cart-item__info {
        padding: 0;
        max-width: unset;
    }
    .go-cart-item__single {
        border: none;
        padding: 0;
        &:not(:last-of-type) {
            margin-bottom: 12px;
        }
    }
    .go-cart__button {
        padding: 1.3rem 0;
        margin-bottom: 12px;
        &:last-of-type {
            margin-bottom: 20px;
        }
    }
    .go-cart-drawer__footer {
        position: absolute;
        width: calc(100% - 12rem);
        bottom: 6rem;
    }
    .go-cart-drawer__subtotal,
    .go-cart-drawer__content,
    .go-cart-drawer__footer {
        padding: 0;
        height: auto;
    }
    .go-cart-item__quantity-label {
        display: none;
    }
    .go-cart-item__quantity-button {
        border: none;
        background: none;
        font-size: 16px;
    }
}

.go-cart__overlay {
    background-color: transparent;
}

// --------------------------------------------- *
// #HELPERS
// --------------------------------------------- *
.sticky {
    position: sticky;
    &.top-0 { top: 0; }
    &.top-50 { top: 5rem; }
    &.top-100 { top: 10rem; }
}
.visually-hidden {
    visibility: hidden;
    display: none;
}
.disabled {
    pointer-events: none;
    opacity: 0.9;
    &:hover {
        cursor: not-allowed;
    }
}
.max-width-350 {
    max-width: 350px;
}

// --------------------------------------------- *
// #COMPONENTS
// --------------------------------------------- *
button {
    background: transparent;
    border: none;
    padding: 0;
    &.arrow-link {
        &:after {
            content: '';
            display: inline-block;
            height: 0.6em;
            width: 1em;
            @include backgroundImage(cover, center);
            background-image: url('https://cdn.shopify.com/s/files/1/2572/3714/files/arrow-link.svg?v=1625180904');
        }
    }
    &.primary {
        background: $themeBlack;
        padding: 1.3rem 2em;
        color: $themeWhite;
        width: fit-content;
        width: -moz-fit-content;
        text-transform: uppercase;
        * {
            pointer-events: none;
        }
    }
    &.full-width {
        width: 100%;
    }
    &:hover {
        cursor: pointer;
    }
}

a {
    &:hover {
        cursor: pointer;
    }
    * {
        pointer-events: none;
    }
}

section[data-section-id="cookie-consent"] {
    position: fixed;
    bottom: 6rem;
    left: 6rem;
    max-width: 240px;
    z-index: 1;
    display: none;
    @include transition(.2s all);
    &.show {
        display: block;
    }
    &.hide {
        opacity: 0;
    }
    article {
        padding: 2.4rem 0;
    }
}

ul {
    li {
        margin-bottom: 2rem;
    }
}

table {
    width: 100%;
    td {
        padding: 10px;
    }
}

details {
    summary {
        text-transform: capitalize;
        &:hover {
            cursor: pointer;
        }
    }
}

details > summary {
    list-style: none;
}
details > summary::-webkit-details-marker {
    display: none;
}

.image-container {
    &.image-bleed-to-left {
        margin-left: -#{$siteMargin};
        width: calc(100% + #{$siteMargin});
        // Bleeds full screen on mobile
        @include mobileOnly {
            margin: 0 -#{$siteMargin};
            width: calc(100% + #{$siteMargin} + #{$siteMargin});
        }
    }
    &.image-bleed-to-right {
        margin-right: -#{$siteMargin};
        width: calc(100% + #{$siteMargin});
        @include mobileOnly {
            margin: 0 -#{$siteMargin};
            width: calc(100% + #{$siteMargin} + #{$siteMargin});
        }
    }
    &.image-bleed-full {
        margin: 0 -#{$siteMargin};
        width: calc(100% + #{$siteMargin} + #{$siteMargin});
    }
    &.contain {
        img {
            object-fit: contain;
        }
    }
}

img {
    @include transition(.3s all);
    width: 100%;
    height: 100%;
    object-fit: cover;
    &.lazy {
        filter: blur(8px);
    }
    &.loaded {
        filter: blur(0);
    }
    &[data-ll-status="loading"] {
        background: #eeeeee;
    }
}

// --------------------------------------------- *
// #COLLECTION PAGE START
// --------------------------------------------- *
.collection-grid {
    grid-template-columns: 200px 3fr;
    grid-gap: 200px;
    row-gap: 20px;
    @include mobileOnly {
        grid-template-columns: 1fr;
        grid-gap: 10px;
    }
    .collection-inner-grid {
        grid-template-columns: repeat(9, 1fr);
        @include mobileOnly {
            grid-template-columns: repeat(12, 1fr);
        }
    }
    section[data-section-id="collection-pagination"] {
        margin: 0;
        padding: 0;
    }
}

.accessible-pagination {
    ol {
        li {
            &:not(last-of-type) {
                margin-right: 2rem;
            }
        }
    }
}
// --------------------------------------------- *
// #COLLECTION PAGE END
// --------------------------------------------- *

// --------------------------------------------- *
// #HERO SECTION A
// --------------------------------------------- *
section[data-section-id="hero-section-a"] {
    .image-container {
        max-height: 100vh;
    }
}
// --------------------------------------------- *
// #PRODUCT START
// --------------------------------------------- *
.product-card {
    .product-card-main-container {
        display: grid;
        grid-template-columns: auto;
        row-gap: 2rem;
        .image-container {
            grid-row: 1;
            grid-column: 1;
            @include transition(.3s all);
            &:first-of-type { z-index: 2; }
            &:nth-child(2)  { opacity: 0; }
        }
    }
    // When Hover image metafiled exists - data-hover-image attribute added to product card
    &[data-hover-image] {
        &:hover {
            .image-container:first-of-type { opacity: 0; }
            .image-container:nth-child(2) { opacity: 1; }
        }
    }
}

// --------------------------------------------- *
// #PRODUCT START
// --------------------------------------------- *
//  HACK FOR NESTED RECOMENDATIONS SECTION
section.product-recommendations {
    section.product-recommendations {
        padding: 0!important;
    }
}

// Overide fit-content for ad to cart buttons
button.js-go-cart-add-to-cart {
    width: 100%;
}

// VARIANT SELECTOR OPTIONS
.options-grid {
    display: grid;
    grid-template-columns: 50px auto;
    grid-gap: 20px;
    .options-group {
        flex-wrap: wrap;
        div {
            margin-bottom: 10px;
        }
    }
}
.options {
    flex-wrap: wrap;
    .options-group-label {
        margin-right: 4rem;
    }
    .option {
        font-size: 1.3rem;
        &[type="radio"] {
            font-size: 1.6rem;
            visibility: hidden;
            &:checked {
                + label {
                    font-weight: bold;
                }
            }
        }
        &:not(:last-of-type) {
            margin-right: 10px;
        }
        &.sold-out, &.sold-out + label {
            pointer-events: none;
            opacity: 0.5;
        }
    }
    label {
        &:hover {
            cursor: pointer;
        }
    }
}

.alternate-payment-providers {
    padding-top: 1rem;
    .image-container {
        width: auto;
        height: 14px;
        img {
            height: 14px;
            width: unset;
        }
        &:not(last-of-type) {
            margin-right: 2rem;
        }
    }
}

.product-carousel {
    height: 100%;
    .swiper-button {
        bottom: 0;
        top: unset;
        &:after {
            display: none;
        }
        svg {
            width: 3rem;
        }
        &.swiper-button-next {
            svg {
                @include rotate(180deg);
            }
        }
    }
    .swiper-pagination-bullets {
        .swiper-pagination-bullet {
            opacity: 1;
            border: 1px solid $themeDarkGrey;
            background: transparent;
            &.swiper-pagination-bullet-active {
                background: $themeDarkGrey;
            }
        }
    }
}

.product-size-guide-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    z-index: 2;
    visibility: hidden;
    &.active {
        visibility: visible;
    }
    .product-size-guide {
        background: $themeSand;
        padding: 7rem;
        position: relative;
        .product-size-guide-header {
            padding-bottom: 2rem;
        }
    }
    @include mobileOnly {
        width: calc(100% - 4rem);
        font-size: 1.2rem;
        .product-size-guide {
            padding: 2rem;
            td {
                padding: 0.5rem;
            }
        }
    }
}

// --------------------------------------------- *
// #ARTICLE TEMPLATE
// --------------------------------------------- *
section[data-section-id="article-template"] {
    .gc {
        row-gap: 10rem;
    }
    .article-gallery-item-inner {
        p {
            margin-top: 20px;
        }
    }
    [data-article-gallery-item-id="1"] {
        grid-column: 4 / 10;
    }
    [data-article-gallery-item-id="2"] {
        grid-column: 1 / 7;
    }
    [data-article-gallery-item-id="3"] {
        grid-column: 8 / 13;
        .article-gallery-item-inner {
            display: flex;
            justify-content: center;
            align-items: center;
        }
    }
    [data-article-gallery-item-id="4"] {
        grid-column: 5 / 13;
    }
    [data-article-gallery-item-id="5"] {
        grid-column: 1 / 13;
    }
    [data-article-gallery-item-id="6"] {
        grid-column: 1 / 5;
        .article-gallery-item-inner {
            display: flex;
            justify-content: center;
            align-items: center;
        }
    }
    [data-article-gallery-item-id="7"] {
        grid-column: 7 / 13;
    }
    [data-article-gallery-item-id="8"] {
        grid-column: 1 / 8;
    }
    @include mobileOnly {
        [data-article-gallery-item-id] {
            grid-column: 1 / 13;
        }
    }
}

.article-grid {
    position: relative;
    display: -webkit-box;
    display: -ms-flexbox;
    /* display: flex; */
    -webkit-box-orient: horizontal;
    -webkit-box-direction: normal;
    -ms-flex-direction: row;
    flex-direction: row;
    -webkit-box-pack: justify;
    -ms-flex-pack: justify;
    justify-content: space-between;
    width: 100%;
    flex-wrap: wrap;
    -moz-flex-wrap: wrap;
    @include transition(.5s all);
    .product-card {
        width: 20vw;
        -webkit-box-flex: 1;
        -ms-flex-positive: 1;
        flex-grow: 1;
        margin-bottom: 2rem;
        margin-left: 2rem;
        @include transition(.5s all);
        &:hover {
            flex-grow: 3;
            -webkit-box-flex: 3;
        }
    }
}

// --------------------------------------------- *
// #CART PAGE TEMPLATE
// --------------------------------------------- *
section[data-section-id="cart"] {
    .gc {
        row-gap: 0;
    }
}
.cart-page-title {
    margin-bottom: 6rem;
}
.checkout-ui {
    margin-top: 2rem;
}
.cart-header {
    padding-bottom: 2rem;
    border-bottom: 1px solid $themeBlack;
}
.cart-item {
    display: grid;
    grid-template-columns: 300px 4fr;
    grid-gap: 20px;
    position: relative;
    border-bottom: 1px solid $themeBlack;
    padding: 3rem 0;
    .line-price {
        position: absolute;
        bottom: 3rem;
        right: 0;
        margin-bottom: 0;
    }
}

// BOUTIQUES
.open-hours-grid {
    display: grid;
    grid-template-columns: 80px auto;
    grid-gap: 20px;
}

.boutiques-block {
    .block {
        margin-bottom: 2rem;
        padding: 0;
    }
}
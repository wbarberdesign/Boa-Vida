<header>
    <div class="gc">
        <div class="d-1-5 logo-container t-1-13 t-r-1" style="z-index: 2;">
            <a href="/">
                <div class="logo">
                    {% if section.settings.logo_image != blank %}
                        {% include 'image',
                            imageFIle: section.settings.logo_image,
                            userSetAspectRatio: 'ratio-auto' 
                        %}
                    {% else %}
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 590.5 94.41"><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><polygon points="386.2 59.23 366.34 7.83 346.67 7.83 346.67 90.71 347.38 90.71 347.38 15.94 376.85 92.51 401.29 11.77 401.29 91.31 421.32 91.31 421.32 90.71 421.32 7.83 401.77 7.83 386.2 59.23"/><path d="M502.33,31.6c-4.11,1.78-6.2,5-8,11.45V31.74h-19V91.5h18.37v-.06h.61V45.06c1.67-6.76,5.34-12.33,9.49-12.33,3.91,0,5,3.32,5,12.1V91.44h19V51.91c0-.14,0-.27,0-.41,0-.54,0-1.07-.07-1.6s-.09-1-.14-1.57c-1.18-11.42-8-18.17-18.84-18.17A15.58,15.58,0,0,0,502.33,31.6Z"/><rect x="439.2" y="31.66" width="18.36" height="59.43"/><path d="M448.38,0a9.51,9.51,0,0,0-9.67,9.78,9.73,9.73,0,0,0,19.45,0A9.68,9.68,0,0,0,448.38,0Z"/><polygon points="40.08 58.46 19.95 7.26 0 7.26 0 7.85 0 90.39 0.72 90.39 0.72 15.33 30.6 91.61 55.38 11.17 55.38 89.83 55.34 90.42 75.68 90.42 75.69 89.83 75.69 7.85 75.72 7.85 75.72 7.26 55.87 7.26 40.08 58.46"/><path d="M185.09,29.72c-5.93,0-9.32,2.85-11.73,6.29V31H154V90.42h19.35V37.07c2.53-3.67,5.62-6.77,11.55-6.77a12.56,12.56,0,0,1,12.27,8.55,10.16,10.16,0,1,0-9,14.74c6.77,0,10.28-5.23,10.28-10.93a12.67,12.67,0,0,0-.61-3.56A13.09,13.09,0,0,0,185.09,29.72Z"/><path d="M327.71,37.44a15.23,15.23,0,0,0-14,9.13c-5-2.77-10-5-13.95-7.77C304.49,36.82,310,33.23,310,28c0-7-6.49-8.83-11.8-8.83-9.75,0-15.85,6.06-15.85,13.6,0,3.78,1.49,6.37,3.9,9.88-11.19,4.39-21.72,11-21.72,22.78,0,10.54,8.6,17.82,20.45,17.82,10.54,0,17-4.82,21-12.73l.44.62c3.86,5.44,6.66,9.92,6.66,14.4,0,3.06-1.05,6.76-6.22,6.76-6.33,0-12.6-4.56-12.6-4.56l-.31.34s8.51,6.32,16.86,6.32c9.21,0,22.12-4.82,22.12-20.89,0-14.39-9.09-21.29-18.79-26.73,1.45-2.94,4.7-7.86,11.36-8.74a7.91,7.91,0,0,0-4.6,7.11,7.47,7.47,0,1,0,14.93,0C335.79,40.24,331.92,37.44,327.71,37.44ZM297.86,19.62c5.26,0,5.62,4.13,5.62,8.52,0,6.66-1.32,9-4.13,10.39-4.39-3.07-7.29-6.53-7.29-11.62C292.06,22.42,294.52,19.62,297.86,19.62ZM293.2,78.79c-8.25,0-14.83-12.21-14.83-21.6,0-6.8,1.14-10.62,8.12-14.13l19.18,27.08C300.67,78.22,297.29,78.79,293.2,78.79Z"/><path d="M251.34,84.37V50.49c0-12.46-10.22-21-28.12-21-9,0-21.22,5.94-21.22,15.51,0,5.7,3.5,10.92,10.28,10.92A10.09,10.09,0,1,0,204,40c2.72-5.47,10.71-9.5,17.84-9.5,6.77,0,10.15,3,10.15,10V52.22c-2,2.85-4.23,5.35-7.13,6.12-3.39.89-4.23.3-10.27,1.48C206.48,61.38,199,67.38,199,76.88,199,85.43,205.33,92,215.48,92,227,92,231.32,84.9,232.34,80a12.59,12.59,0,0,0,4.47,7c3,3,7.76,5.2,13.88,5.2a11.25,11.25,0,0,0,6.19-1.62v-.06H257a8.58,8.58,0,0,0,1.88-1.68,4.28,4.28,0,0,1-2.63.83C254.25,89.69,251.94,88.69,251.34,84.37ZM232,78c0,4.29-4,11.47-9.54,11.47-3.51,0-4.12-3.33-4.12-9.15V70.59c0-5.59,2.9-8.86,6.65-10.88a19.06,19.06,0,0,0,7-6.42Z"/><path d="M138.67,82.07V50.49a20.64,20.64,0,0,0-.49-4.51,2,2,0,0,0-.07-.26,16.73,16.73,0,0,0-.52-1.82c-.11-.33-.25-.62-.38-.93s-.27-.71-.44-1-.35-.62-.52-.94-.33-.61-.53-.91-.31-.43-.46-.64c-.27-.37-.53-.76-.83-1.12a1.31,1.31,0,0,0-.12-.11c-4.59-5.43-12.71-8.67-23.76-8.67-9,0-21.21,5.94-21.21,15.51,0,5.7,3.5,10.92,10.28,10.92a10.09,10.09,0,1,0-8.29-16c2.72-5.47,10.7-9.5,17.83-9.5,6.78,0,10.16,3,10.16,10V52.22c-2.06,2.85-4.23,5.35-7.13,6.12-3.39.89-4.24.3-10.29,1.48-8.09,1.56-15.59,7.56-15.59,17.06,0,8.55,6.35,15.08,16.5,15.08,11.56,0,15.85-7.06,16.87-11.93.81,4.29,4.26,8.12,9.34,10.24a21.41,21.41,0,0,0,9.16,2,11.22,11.22,0,0,0,6.19-1.62v-.06h.12a8.58,8.58,0,0,0,1.88-1.68,4.26,4.26,0,0,1-2.63.83C141.42,89.69,138.67,88.36,138.67,82.07ZM119.32,78c0,4.29-4,11.47-9.55,11.47-3.51,0-4.11-3.33-4.11-9.15V70.59c0-5.59,2.89-8.86,6.65-10.88a19.22,19.22,0,0,0,7-6.42Z"/><path d="M555,64.59V61.53H590.5c0-16.86-11.87-31.09-27.3-31.09-15.08,0-28.6,14.6-28.6,31.21,0,14.74,10.65,27.88,23.59,30.65a24,24,0,0,0,5.7.69,26.72,26.72,0,0,0,14.34-3.67,19.62,19.62,0,0,1-9.63,2.39C555.87,91.71,555,81.47,555,64.59Zm15.37-3.65H555V53.37a87.86,87.86,0,0,1,.8-14.21c.09-.47.19-.94.29-1.38s.15-.58.23-.85c1.13-3.73,3.18-5.9,6.93-5.9C569.26,31,570.32,35.06,570.32,60.94Z"/></g></g></svg> 
                    {% endif %}
                </div>
            </a>
        </div>
        <div class="tablet-only m-1-3 t-r-1" style="z-index: 10;">
            <button data-toggle="responsive-menu">MENU</button>
        </div>
        <div class="d-5-10 r-1 t-r-2 t-1-13 desktop-only">
            {% if section.settings.main_menu != blank %}
                {% assign menu = section.settings.main_menu.handle %}
                {% for link in linklists[menu].links %}
                    {% assign child_list_handle = link.title | handleize %}
                    {% if linklists[child_list_handle].links != blank %}
                        <a href="{{ link.url }}">{{ link.title }}</a>
                        [{% for childlink in linklists[child_list_handle].links %}
                            <a class="small" href="{{ childlink.url }}">{{ childlink.title | escape }}</a>
                        {% endfor %}]
                    {% else %}
                        <a class="small" href="{{ link.url }}">{{ link.title }}</a>
                    {% endif %}
                {% endfor %}
            {% endif %}
        </div>
        <div class="responsive-menu t-r-1 t-1-7 tablet-only background-color__sand flex flex-column">
            {% if section.settings.main_menu != blank %}
                {% assign menu = section.settings.main_menu.handle %}
                {% for link in linklists[menu].links %}
                    {% assign child_list_handle = link.title | handleize %}
                    {% if linklists[child_list_handle].links != blank %}
                        <a href="{{ link.url }}">{{ link.title }}</a>
                        [{% for childlink in linklists[child_list_handle].links %}
                            <a class="small" href="{{ childlink.url }}">{{ childlink.title | escape }}</a>
                        {% endfor %}]
                    {% else %}
                        <a class="small" href="{{ link.url }}">{{ link.title }}</a>
                    {% endif %}
                {% endfor %}
            {% endif %}
            <div class="shopify-localization-form">
                {% form 'localization' %}
                <select name="country_code" class="small country-code">
                    {% for country in localization.available_countries %}
                    <option value="{{ country.iso_code }}"
                        {%- if country == localization.country %} selected="selected"{% endif %}
                    >
                        {{ country.iso_code }}
                    </option>
                    {% endfor %}
                </select>
                {% endform %}              
            </div>
        </div>
        <div class="d-10-13 flex flex-to-right r-1">
            <div class="flex flex-r">
                <div class="shopify-localization-form desktop-only">
                    {% form 'localization' %}
                    <select name="country_code" class="small country-code">
                        {% for country in localization.available_countries %}
                        <option value="{{ country.iso_code }}"
                            {%- if country == localization.country %} selected="selected"{% endif %}
                        >
                            {{ country.iso_code }}
                        </option>
                        {% endfor %}
                    </select>
                    {% endform %}              
                </div>

                {% include 'go-cart-button' %}
                {% if shop.customer_accounts_enabled %}
                    {% if customer %}
                        <a class="small" href="/account">account</a>
                        {{ 'log out'  | customer_logout_link }}
                    {% else %}
                        {{ 'log in ' | customer_login_link }}
                        {{ 'register' | customer_register_link }}
                    {% endif %}
                {% endif %}
            </div>
        </div>
    </div>
</header>

<script>
    const header = document.querySelector('header');
    const responsive_menu = document.querySelector('.responsive-menu');

    document.addEventListener("click", (e) => {
        if(e.target.hasAttribute('data-toggle')) {
            responsive_menu.classList.toggle('active');
            if(responsive_menu.classList.contains('active')) {
                e.target.innerHTML = "Close";
            } else {
                e.target.innerHTML = "Menu";
            }
        }
    });

    window.addEventListener('scroll', () => {  
        if (window.scrollY > 0) {
            header.classList.add('active')
        } else {
            header.classList.remove('active')
        }
    });

    const localizationFormSubmit = (event) => {
        event.target.form.submit();
    };

    document.querySelectorAll('.shopify-localization-form select').forEach(function(element) {
    element.addEventListener('change', localizationFormSubmit);
    });
</script>

{% schema %}
{
    "settings": [
        {
            "type": "image_picker",
            "id": "logo_image",
            "label": "Logo Image"
        },
        {
            "type": "link_list",
            "id": "main_menu",
            "label": "Main Menu",
            "info": "Menus accessible at Online Store > Navigation"
        }
    ],
    "presets": [
        {
            "category": "Mara & Mine",
            "name":"Header"
        }
    ]
}
{% endschema %}